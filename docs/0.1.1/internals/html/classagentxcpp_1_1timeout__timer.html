<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AgentXcpp: agentxcpp::timeout_timer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AgentXcpp
   &#160;<span id="projectnumber">Revision:0.1.1</span>
   </div>
   <div id="projectbrief">Internals Documentation</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classagentxcpp_1_1timeout__timer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">agentxcpp::timeout_timer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A timer which can detect timeouts.  
 <a href="classagentxcpp_1_1timeout__timer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="timeout__timer_8hpp_source.html">timeout_timer.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for agentxcpp::timeout_timer:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classagentxcpp_1_1timeout__timer__coll__graph.svg" width="224" height="384"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

<p><a href="classagentxcpp_1_1timeout__timer-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ab56f7dea984c184fd40593481b6f55db"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55db">status_t</a> { <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55dba72b6db3c8de9dce239ae81ad7f50ce67">running</a>, 
<a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55dba62d037d354a657daca5dda0c5e0d8d4f">expired</a>, 
<a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55dbabf087b97930ba019b0238de278821823">standby</a>, 
<a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55dbafa6cd28a8d541a13d921fb190388ff24">broken</a>
 }</td></tr>
<tr class="memdesc:ab56f7dea984c184fd40593481b6f55db"><td class="mdescLeft">&#160;</td><td class="mdescRight">The timeout status type.  <a href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55db">More...</a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab9c71e1090b6668dd64a38e2cb8f4bf8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagentxcpp_1_1timeout__timer.html#ab9c71e1090b6668dd64a38e2cb8f4bf8">timeout_timer</a> (boost::asio::io_service &amp;io_service)</td></tr>
<tr class="memdesc:ab9c71e1090b6668dd64a38e2cb8f4bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#ab9c71e1090b6668dd64a38e2cb8f4bf8"></a><br/></td></tr>
<tr class="memitem:a442a41c48ff082ac59c0c7f9e61aa257"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagentxcpp_1_1timeout__timer.html#a442a41c48ff082ac59c0c7f9e61aa257">expires_at</a> (boost::asio::deadline_timer::time_type time)</td></tr>
<tr class="memdesc:a442a41c48ff082ac59c0c7f9e61aa257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time out at the given time.  <a href="#a442a41c48ff082ac59c0c7f9e61aa257"></a><br/></td></tr>
<tr class="memitem:a9df7380f36f6961e8bc00ee624f9bd86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagentxcpp_1_1timeout__timer.html#a9df7380f36f6961e8bc00ee624f9bd86">expires_from_now</a> (boost::asio::deadline_timer::duration_type duration)</td></tr>
<tr class="memdesc:a9df7380f36f6961e8bc00ee624f9bd86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time out at (now + duration).  <a href="#a9df7380f36f6961e8bc00ee624f9bd86"></a><br/></td></tr>
<tr class="memitem:af23580964d11efd3e9d1480cf620bbda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagentxcpp_1_1timeout__timer.html#af23580964d11efd3e9d1480cf620bbda">cancel</a> ()</td></tr>
<tr class="memdesc:af23580964d11efd3e9d1480cf620bbda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the timer.  <a href="#af23580964d11efd3e9d1480cf620bbda"></a><br/></td></tr>
<tr class="memitem:acd954300464cd6831fb50e33b397a9e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55db">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagentxcpp_1_1timeout__timer.html#acd954300464cd6831fb50e33b397a9e6">get_status</a> ()</td></tr>
<tr class="memdesc:acd954300464cd6831fb50e33b397a9e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current timer status.  <a href="#acd954300464cd6831fb50e33b397a9e6"></a><br/></td></tr>
<tr class="memitem:a18469655d3fef5e20159b0f8f35428c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagentxcpp_1_1timeout__timer.html#a18469655d3fef5e20159b0f8f35428c2">~timeout_timer</a> ()</td></tr>
<tr class="memdesc:a18469655d3fef5e20159b0f8f35428c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a18469655d3fef5e20159b0f8f35428c2"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a7510396756511a429a8cd60c0407dad9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagentxcpp_1_1timeout__timer.html#a7510396756511a429a8cd60c0407dad9">timeout_timer</a> ()</td></tr>
<tr class="memdesc:a7510396756511a429a8cd60c0407dad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hide default constructor.  <a href="#a7510396756511a429a8cd60c0407dad9"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a977d35cc8f97ad125b0f5e000203211c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagentxcpp_1_1timeout__timer.html#a977d35cc8f97ad125b0f5e000203211c">check_deadline</a> (<a class="el" href="classagentxcpp_1_1timeout__timer.html">timeout_timer</a> *self)</td></tr>
<tr class="memdesc:a977d35cc8f97ad125b0f5e000203211c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The timeout handler.  <a href="#a977d35cc8f97ad125b0f5e000203211c"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae5f3c5b8d4bd338bf31d7827af891e99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55db">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagentxcpp_1_1timeout__timer.html#ae5f3c5b8d4bd338bf31d7827af891e99">status</a></td></tr>
<tr class="memdesc:ae5f3c5b8d4bd338bf31d7827af891e99"><td class="mdescLeft">&#160;</td><td class="mdescRight">The timeout status.  <a href="#ae5f3c5b8d4bd338bf31d7827af891e99"></a><br/></td></tr>
<tr class="memitem:ac7a41fe2e4413291010534fe1baf725e"><td class="memItemLeft" align="right" valign="top">boost::asio::deadline_timer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagentxcpp_1_1timeout__timer.html#ac7a41fe2e4413291010534fe1baf725e">timer</a></td></tr>
<tr class="memdesc:ac7a41fe2e4413291010534fe1baf725e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The boost::asio timer.  <a href="#ac7a41fe2e4413291010534fe1baf725e"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a367be463be06ddc8b278c15510dbf40b"><td class="memItemLeft" align="right" valign="top">static std::set&lt; <a class="el" href="classagentxcpp_1_1timeout__timer.html">timeout_timer</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagentxcpp_1_1timeout__timer.html#a367be463be06ddc8b278c15510dbf40b">available_timers</a></td></tr>
<tr class="memdesc:a367be463be06ddc8b278c15510dbf40b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of <a class="el" href="classagentxcpp_1_1timeout__timer.html" title="A timer which can detect timeouts.">timeout_timer</a> objects currently in existence.  <a href="#a367be463be06ddc8b278c15510dbf40b"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A timer which can detect timeouts. </p>
<p>This timer can detect timeouts. A <a class="el" href="classagentxcpp_1_1timeout__timer.html" title="A timer which can detect timeouts.">timeout_timer</a> object starts in "standby" state. The timer can then be started using the <a class="el" href="classagentxcpp_1_1timeout__timer.html#a442a41c48ff082ac59c0c7f9e61aa257" title="Time out at the given time.">expires_at()</a> (giving an absolute time) or <a class="el" href="classagentxcpp_1_1timeout__timer.html#a9df7380f36f6961e8bc00ee624f9bd86" title="Time out at (now + duration).">expires_from_now()</a> (giving a time span) methods, which changes the status to "running". When the timer expires, the status changes to "expired". The timer can be disabled at any time using <a class="el" href="classagentxcpp_1_1timeout__timer.html#af23580964d11efd3e9d1480cf620bbda" title="Stop the timer.">cancel()</a>, which changes the status back to "standby" (this works also with an expired timer).</p>
<p>This class uses the boost::asio library and therefore needs an io_service object. It never calls io_service::run() or io_service::run_one(). For the <a class="el" href="classagentxcpp_1_1timeout__timer.html" title="A timer which can detect timeouts.">timeout_timer</a> to work, the run() or run_one() method of the io_service object must be invoked by the user of <a class="el" href="classagentxcpp_1_1timeout__timer.html" title="A timer which can detect timeouts.">timeout_timer</a>. As long as neither of them are invoked, the timer will not report the status "expired".</p>
<p>The object can break, e.g. when something with the interally used boost::asio::deadline_timer goes wrong. In this case the status changes to "broken". A broken <a class="el" href="classagentxcpp_1_1timeout__timer.html" title="A timer which can detect timeouts.">timeout_timer</a> cannot be used anymore: a call to any member function will do nothing (except for <a class="el" href="classagentxcpp_1_1timeout__timer.html#acd954300464cd6831fb50e33b397a9e6" title="Get the current timer status.">get_status()</a>, which will report the status "broken") and the status will be "broken" forever.</p>
<dl class="section user"><dt>How it works</dt><dd></dd></dl>
<p>For timeout detection, an asio deadline_timer is used together with the status member. While the timer is not in use, it's expiry time is set to "infinite" and status is set to "standby". When starting the timer, the deadline_timer's expiry is set to the according time, and status is set to "running". If the deadline_timer expires, it invokes the <a class="el" href="classagentxcpp_1_1timeout__timer.html#a977d35cc8f97ad125b0f5e000203211c" title="The timeout handler.">check_deadline()</a> callback, which sets the expiry back to "infinite" and status to "expired". If <a class="el" href="classagentxcpp_1_1timeout__timer.html#af23580964d11efd3e9d1480cf620bbda" title="Stop the timer.">cancel()</a> is invoked before the deadline_timer expires, the expiry is set back to "infinite" and the status to "standby".</p>
<p>The <a class="el" href="classagentxcpp_1_1timeout__timer.html#a977d35cc8f97ad125b0f5e000203211c" title="The timeout handler.">check_deadline()</a> callback may be invoked errornously, e.g. when the deadline_timer's expiry time is reset after the timer expired, but before the callback actually is invoked. Therefore, <a class="el" href="classagentxcpp_1_1timeout__timer.html#a977d35cc8f97ad125b0f5e000203211c" title="The timeout handler.">check_deadline()</a> compares the expiry date of the timer with the current timestamp to determine whether the timer really expired.</p>
<p>Also, <a class="el" href="classagentxcpp_1_1timeout__timer.html#a977d35cc8f97ad125b0f5e000203211c" title="The timeout handler.">check_deadline()</a> is called after the deadline_timer object is destroyed. This happens when a <a class="el" href="classagentxcpp_1_1timeout__timer.html" title="A timer which can detect timeouts.">timeout_timer</a> object is destroyed, which means that the callback function must not be a member function. Instead it is a static class function which takes a pointer to the <a class="el" href="classagentxcpp_1_1timeout__timer.html" title="A timer which can detect timeouts.">timeout_timer</a> object for which it is called. To identify calls for destroyed objects, the static mamber "available_timers" is used, which stores pointers to all <a class="el" href="classagentxcpp_1_1timeout__timer.html" title="A timer which can detect timeouts.">timeout_timer</a> objects currently in existence. This is handled by the constructors and destructor of the <a class="el" href="classagentxcpp_1_1timeout__timer.html" title="A timer which can detect timeouts.">timeout_timer</a> class. </p>

<p>Definition at line <a class="el" href="timeout__timer_8hpp_source.html#l00081">81</a> of file <a class="el" href="timeout__timer_8hpp_source.html">timeout_timer.hpp</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="ab56f7dea984c184fd40593481b6f55db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55db">agentxcpp::timeout_timer::status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The timeout status type. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ab56f7dea984c184fd40593481b6f55dba72b6db3c8de9dce239ae81ad7f50ce67"></a>running</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab56f7dea984c184fd40593481b6f55dba62d037d354a657daca5dda0c5e0d8d4f"></a>expired</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab56f7dea984c184fd40593481b6f55dbabf087b97930ba019b0238de278821823"></a>standby</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab56f7dea984c184fd40593481b6f55dbafa6cd28a8d541a13d921fb190388ff24"></a>broken</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="timeout__timer_8hpp_source.html#l00104">104</a> of file <a class="el" href="timeout__timer_8hpp_source.html">timeout_timer.hpp</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab9c71e1090b6668dd64a38e2cb8f4bf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timeout_timer::timeout_timer </td>
          <td>(</td>
          <td class="paramtype">boost::asio::io_service &amp;&#160;</td>
          <td class="paramname"><em>io_service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>This constructor sets the timer status to "standby", the deadline_timer's expiry to "infinite" and add the new object to "available_timers". It also starts the deadline_timer.</p>
<dl class="section note"><dt>Note:</dt><dd>If something goes wrong, the status is set to "broken".</dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_service</td><td>The io_service object which will be used by the timer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions:</dt><dd>
  <table class="exception">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="timeout__timer_8cpp_source.html#l00030">30</a> of file <a class="el" href="timeout__timer_8cpp_source.html">timeout_timer.cpp</a>.</p>

<p>References <a class="el" href="classagentxcpp_1_1timeout__timer.html#a367be463be06ddc8b278c15510dbf40b">available_timers</a>, <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55dbafa6cd28a8d541a13d921fb190388ff24">broken</a>, <a class="el" href="classagentxcpp_1_1timeout__timer.html#a977d35cc8f97ad125b0f5e000203211c">check_deadline()</a>, <a class="el" href="classagentxcpp_1_1timeout__timer.html#ae5f3c5b8d4bd338bf31d7827af891e99">status</a>, and <a class="el" href="classagentxcpp_1_1timeout__timer.html#ac7a41fe2e4413291010534fe1baf725e">timer</a>.</p>

</div>
</div>
<a class="anchor" id="a18469655d3fef5e20159b0f8f35428c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timeout_timer::~timeout_timer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>The destructor removes the object from "available_timers". </p>

<p>Definition at line <a class="el" href="timeout__timer_8cpp_source.html#l00172">172</a> of file <a class="el" href="timeout__timer_8cpp_source.html">timeout_timer.cpp</a>.</p>

<p>References <a class="el" href="classagentxcpp_1_1timeout__timer.html#a367be463be06ddc8b278c15510dbf40b">available_timers</a>.</p>

</div>
</div>
<a class="anchor" id="a7510396756511a429a8cd60c0407dad9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">agentxcpp::timeout_timer::timeout_timer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hide default constructor. </p>
<p>We need an io_service object to function properly. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af23580964d11efd3e9d1480cf620bbda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timeout_timer::cancel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the timer. </p>
<p>This stops the timer. The status is set to "standby", and the deadline_timer's expiry time is set to "infinite".</p>
<dl class="section note"><dt>Note:</dt><dd>If something goes wrong, the status is set to "broken".</dd></dl>
<dl class="exception"><dt>Exceptions:</dt><dd>
  <table class="exception">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="timeout__timer_8cpp_source.html#l00149">149</a> of file <a class="el" href="timeout__timer_8cpp_source.html">timeout_timer.cpp</a>.</p>

<p>References <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55dbafa6cd28a8d541a13d921fb190388ff24">broken</a>, <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55dbabf087b97930ba019b0238de278821823">standby</a>, <a class="el" href="classagentxcpp_1_1timeout__timer.html#ae5f3c5b8d4bd338bf31d7827af891e99">status</a>, and <a class="el" href="classagentxcpp_1_1timeout__timer.html#ac7a41fe2e4413291010534fe1baf725e">timer</a>.</p>

</div>
</div>
<a class="anchor" id="a977d35cc8f97ad125b0f5e000203211c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void timeout_timer::check_deadline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classagentxcpp_1_1timeout__timer.html">timeout_timer</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The timeout handler. </p>
<p>This function is used as callback handler for 'timer'. It compares the deadline_timer's expiry time with the current system time to detect errornous invokation. It also checks whether the <a class="el" href="classagentxcpp_1_1timeout__timer.html" title="A timer which can detect timeouts.">timeout_timer</a> object exists (and does nothing if not). If a real timeout is detected, the status is set to "expired" and the deadline_timer's expiry is set to "infinite".</p>
<p>This callback also restarts the timer on each call to keep it running.</p>
<p>If something goes wrong, the status is set to "broken".</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The <a class="el" href="classagentxcpp_1_1timeout__timer.html" title="A timer which can detect timeouts.">timeout_timer</a> object which triggered the callback. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="timeout__timer_8cpp_source.html#l00100">100</a> of file <a class="el" href="timeout__timer_8cpp_source.html">timeout_timer.cpp</a>.</p>

<p>References <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55dbafa6cd28a8d541a13d921fb190388ff24">broken</a>, and <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55dba62d037d354a657daca5dda0c5e0d8d4f">expired</a>.</p>

<p>Referenced by <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab9c71e1090b6668dd64a38e2cb8f4bf8">timeout_timer()</a>.</p>

</div>
</div>
<a class="anchor" id="a442a41c48ff082ac59c0c7f9e61aa257"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timeout_timer::expires_at </td>
          <td>(</td>
          <td class="paramtype">boost::asio::deadline_timer::time_type&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Time out at the given time. </p>
<p>This function starts the timer and set its expiry time to 'time'. The status is set to 'running'.</p>
<dl class="section note"><dt>Note:</dt><dd>If something goes wrong, the status is set to "broken".</dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The time at which the timer shall expire.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions:</dt><dd>
  <table class="exception">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="timeout__timer_8cpp_source.html#l00052">52</a> of file <a class="el" href="timeout__timer_8cpp_source.html">timeout_timer.cpp</a>.</p>

<p>References <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55dbafa6cd28a8d541a13d921fb190388ff24">broken</a>, <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55dba72b6db3c8de9dce239ae81ad7f50ce67">running</a>, <a class="el" href="classagentxcpp_1_1timeout__timer.html#ae5f3c5b8d4bd338bf31d7827af891e99">status</a>, and <a class="el" href="classagentxcpp_1_1timeout__timer.html#ac7a41fe2e4413291010534fe1baf725e">timer</a>.</p>

</div>
</div>
<a class="anchor" id="a9df7380f36f6961e8bc00ee624f9bd86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timeout_timer::expires_from_now </td>
          <td>(</td>
          <td class="paramtype">boost::asio::deadline_timer::duration_type&#160;</td>
          <td class="paramname"><em>duration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Time out at (now + duration). </p>
<p>This function starts the deadline_timer and sets its expiry time to (now + 'duration'). The status is set to 'running'.</p>
<dl class="section note"><dt>Note:</dt><dd>If something goes wrong, the status is set to "broken".</dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration</td><td>The duration after which the timer elapses.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions:</dt><dd>
  <table class="exception">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="timeout__timer_8cpp_source.html#l00076">76</a> of file <a class="el" href="timeout__timer_8cpp_source.html">timeout_timer.cpp</a>.</p>

<p>References <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55dbafa6cd28a8d541a13d921fb190388ff24">broken</a>, <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55dba72b6db3c8de9dce239ae81ad7f50ce67">running</a>, <a class="el" href="classagentxcpp_1_1timeout__timer.html#ae5f3c5b8d4bd338bf31d7827af891e99">status</a>, and <a class="el" href="classagentxcpp_1_1timeout__timer.html#ac7a41fe2e4413291010534fe1baf725e">timer</a>.</p>

</div>
</div>
<a class="anchor" id="acd954300464cd6831fb50e33b397a9e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55db">status_t</a> agentxcpp::timeout_timer::get_status </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current timer status. </p>
<dl class="exception"><dt>Exceptions:</dt><dd>
  <table class="exception">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="timeout__timer_8hpp_source.html#l00157">157</a> of file <a class="el" href="timeout__timer_8hpp_source.html">timeout_timer.hpp</a>.</p>

<p>References <a class="el" href="classagentxcpp_1_1timeout__timer.html#ae5f3c5b8d4bd338bf31d7827af891e99">status</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a367be463be06ddc8b278c15510dbf40b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="classagentxcpp_1_1timeout__timer.html">timeout_timer</a> * &gt; timeout_timer::available_timers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set of <a class="el" href="classagentxcpp_1_1timeout__timer.html" title="A timer which can detect timeouts.">timeout_timer</a> objects currently in existence. </p>

<p>Definition at line <a class="el" href="timeout__timer_8hpp_source.html#l00174">174</a> of file <a class="el" href="timeout__timer_8hpp_source.html">timeout_timer.hpp</a>.</p>

<p>Referenced by <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab9c71e1090b6668dd64a38e2cb8f4bf8">timeout_timer()</a>, and <a class="el" href="classagentxcpp_1_1timeout__timer.html#a18469655d3fef5e20159b0f8f35428c2">~timeout_timer()</a>.</p>

</div>
</div>
<a class="anchor" id="ae5f3c5b8d4bd338bf31d7827af891e99"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classagentxcpp_1_1timeout__timer.html#ab56f7dea984c184fd40593481b6f55db">status_t</a> agentxcpp::timeout_timer::status</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The timeout status. </p>

<p>Definition at line <a class="el" href="timeout__timer_8hpp_source.html#l00186">186</a> of file <a class="el" href="timeout__timer_8hpp_source.html">timeout_timer.hpp</a>.</p>

<p>Referenced by <a class="el" href="classagentxcpp_1_1timeout__timer.html#af23580964d11efd3e9d1480cf620bbda">cancel()</a>, <a class="el" href="classagentxcpp_1_1timeout__timer.html#a442a41c48ff082ac59c0c7f9e61aa257">expires_at()</a>, <a class="el" href="classagentxcpp_1_1timeout__timer.html#a9df7380f36f6961e8bc00ee624f9bd86">expires_from_now()</a>, <a class="el" href="classagentxcpp_1_1timeout__timer.html#acd954300464cd6831fb50e33b397a9e6">get_status()</a>, and <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab9c71e1090b6668dd64a38e2cb8f4bf8">timeout_timer()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7a41fe2e4413291010534fe1baf725e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::deadline_timer agentxcpp::timeout_timer::timer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The boost::asio timer. </p>
<p>This timer is used to detect timeout conditions. </p>

<p>Definition at line <a class="el" href="timeout__timer_8hpp_source.html#l00193">193</a> of file <a class="el" href="timeout__timer_8hpp_source.html">timeout_timer.hpp</a>.</p>

<p>Referenced by <a class="el" href="classagentxcpp_1_1timeout__timer.html#af23580964d11efd3e9d1480cf620bbda">cancel()</a>, <a class="el" href="classagentxcpp_1_1timeout__timer.html#a442a41c48ff082ac59c0c7f9e61aa257">expires_at()</a>, <a class="el" href="classagentxcpp_1_1timeout__timer.html#a9df7380f36f6961e8bc00ee624f9bd86">expires_from_now()</a>, and <a class="el" href="classagentxcpp_1_1timeout__timer.html#ab9c71e1090b6668dd64a38e2cb8f4bf8">timeout_timer()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/tanjeff/projekte/agentxcpp/agentXcpp-0.1.1/src/<a class="el" href="timeout__timer_8hpp_source.html">timeout_timer.hpp</a></li>
<li>/home/tanjeff/projekte/agentxcpp/agentXcpp-0.1.1/src/<a class="el" href="timeout__timer_8cpp_source.html">timeout_timer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceagentxcpp.html">agentxcpp</a></li><li class="navelem"><a class="el" href="classagentxcpp_1_1timeout__timer.html">timeout_timer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.1 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AgentXcpp: The Variable Objects</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AgentXcpp
   &#160;<span id="projectnumber">Revision:0.1.1</span>
   </div>
   <div id="projectbrief">Internals Documentation</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('variables.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">The Variable Objects </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="introduction"></a>
Introduction</h1>
<p>SNMP and AgentX are all about variables, and how to obtain or alter their values. In agentXcpp, variables are represented by classes which implement the agentxcpp::variables interface. The library provides some classes such as <a class="el" href="classagentxcpp_1_1_integer.html" title="Represents an Integer as descibed in RFC 2741.">agentxcpp::Integer</a> and <a class="el" href="classagentxcpp_1_1_octet___string.html" title="Represents an Octet String as descibed in RFC 2741, section 5.3.">agentxcpp::Octet_String</a>, which have an internal value and can be serialized and deserialized to be included in PDU messages. To actually provide an SNMP variable, one of these classes must be derived.</p>
<h1><a class="anchor" id="serializing_parsing"></a>
Serializing and Parsing Variables</h1>
<p>The <a class="el" href="classagentxcpp_1_1variable.html" title="This class represents a SNMP variable.">agentxcpp::variable</a> interface provides the serialize function to serialize a variable object. Parsing is done using parse constructors. This is the same mechanism as used by the PDU classes. See <a class="el" href="pdus.html">The PDU Objects</a> for an explanation.</p>
<h1><a class="anchor" id="get"></a>
GET Requests</h1>
<p>When the <a class="el" href="classagentxcpp_1_1master__proxy.html" title="This class represents the master agent in a subagent program.">agentxcpp::master_proxy</a> object receives a GET request, it looks up the variable registered with the requested OID. Then it invokes the variable's update() function (found in the <a class="el" href="classagentxcpp_1_1variable.html" title="This class represents a SNMP variable.">agentxcpp::variable</a> interface) to update the internal state of the variable. Finally the variable is serialized and embedded within a <a class="el" href="classagentxcpp_1_1_response_p_d_u.html" title="Represents an Response-PDU.">agentxcpp::ResponsePDU</a> and sent to the master agent.</p>
<p>The <a class="el" href="classagentxcpp_1_1variable.html#ae8f87411613af6c8b80e7e321312757d" title="Update the internal state of the variable.">agentxcpp::variable::update()</a> method is implemented in the variable classes such as <a class="el" href="classagentxcpp_1_1_integer.html" title="Represents an Integer as descibed in RFC 2741.">agentxcpp::Integer</a>, <a class="el" href="classagentxcpp_1_1_octet___string.html" title="Represents an Octet String as descibed in RFC 2741, section 5.3.">agentxcpp::Octet_String</a>, <a class="el" href="classagentxcpp_1_1_counter32.html" title="Represents an Counter32 as descibed in RFC 2741.">agentxcpp::Counter32</a> , and so on. The implementation just calls the get() method of the respective object, which returns the new value of the object. Then, update() stores the new value within the variable.</p>
<p>When implementing an SNMP variable, the user of the agentXcpp library derives one of the variable classes (e.g. <a class="el" href="classagentxcpp_1_1_octet___string.html" title="Represents an Octet String as descibed in RFC 2741, section 5.3.">agentxcpp::Octet_String</a>) and overrides the get() method. The get() method may throw <a class="el" href="classagentxcpp_1_1generic__error.html" title="Exception to indicate that obtaining the value of an SNMP variable failed.">agentxcpp::generic_error</a>, in which case a generic error is reported to the master agent. Note that any other exception also results in a generic error reported to the master agent.</p>
<p>The variable classes provide default implementations of get() which throws <a class="el" href="classagentxcpp_1_1generic__error.html" title="Exception to indicate that obtaining the value of an SNMP variable failed.">agentxcpp::generic_error</a>. As a side effect, a generic error is reported if a derived class does not override get(). The main reason for providing a default implementations is that get() cannot be pure virtual, because the variable classes are created while parsing PDU contents. Abstract classes would not allow that mechanism. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.1 </li>
  </ul>
</div>
</body>
</html>
